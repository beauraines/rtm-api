<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Home - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="RTMClient.html">RTMClient</a><ul class='methods'><li data-type='method'><a href="RTMClient.html#get">get</a></li><li data-type='method'><a href="RTMClient.html#user">user</a></li><li data-type='method'><a href="RTMClient.html#~auth/getAuthToken">auth/getAuthToken</a></li><li data-type='method'><a href="RTMClient.html#~auth/getAuthUrl">auth/getAuthUrl</a></li><li data-type='method'><a href="RTMClient.html#~auth/verifyAuthToken">auth/verifyAuthToken</a></li></ul></li><li><a href="RTMError.html">RTMError</a><ul class='methods'><li data-type='method'><a href="RTMError.html#.indexError">indexError</a></li><li data-type='method'><a href="RTMError.html#.networkError">networkError</a></li><li data-type='method'><a href="RTMError.html#.responseError">responseError</a></li><li data-type='method'><a href="RTMError.html#toString">toString</a></li></ul></li><li><a href="RTMList.html">RTMList</a><ul class='methods'><li data-type='method'><a href="RTMList.html#.sortById">sortById</a></li><li data-type='method'><a href="RTMList.html#.sortByIndex">sortByIndex</a></li><li data-type='method'><a href="RTMList.html#.sortByName">sortByName</a></li></ul></li><li><a href="RTMResponse.html">RTMResponse</a><ul class='methods'><li data-type='method'><a href="RTMResponse.html#has">has</a></li><li data-type='method'><a href="RTMResponse.html#toString">toString</a></li></ul></li><li><a href="RTMSuccess.html">RTMSuccess</a><ul class='methods'><li data-type='method'><a href="RTMSuccess.html#toString">toString</a></li></ul></li><li><a href="RTMUser.html">RTMUser</a><ul class='methods'><li data-type='method'><a href="RTMUser.html#get">get</a></li><li data-type='method'><a href="RTMUser.html#verifyAuthToken">verifyAuthToken</a></li><li data-type='method'><a href="RTMUser.html#~lists/add">lists/add</a></li><li data-type='method'><a href="RTMUser.html#~lists/get">lists/get</a></li><li data-type='method'><a href="RTMUser.html#~lists/remove">lists/remove</a></li><li data-type='method'><a href="RTMUser.html#~lists/rename">lists/rename</a></li><li data-type='method'><a href="RTMUser.html#~lists/update">lists/update</a></li></ul></li></ul>
</nav>

<div id="main">
    

    



    









    


    <section class="readme">
        <article><h1>Remember The Milk API Interface</h1><p><strong>node module:</strong> <a href="https://www.npmjs.com/package/rtm-api">rtm-api</a><br><strong>GitHub repo:</strong> <a href="https://github.com/dwaring87/rtm-api">dwaring87/rtm-api</a></p>
<hr>
<p>This Node module provides a wrapper around the Remember the Milk API.</p>
<p>You will need your own RTM API Key and Secret, available from the Remember the 
Milk <a href="https://www.rememberthemilk.com/services/api/keys.rtm">website</a>.</p>
<h2>Installation</h2><p>This module can be installed via <code>npm</code>:</p>
<pre class="prettyprint source"><code>npm install rtm-api</code></pre><p>or downloaded directly from the <a href="https://github.com/dwaring87/rtm-api">GitHub repository</a>.</p>
<h2>Documentation</h2><p>Full documentation is available in the <strong>/docs/</strong> directory of this repository or 
online at <a href="https://dwaring87.github.io/rtm-api/">https://dwaring87.github.io/rtm-api/</a>.</p>
<p>Additional usage examples can be found in the repository's <a href="https://github.com/dwaring87/rtm-api/wiki">wiki pages</a>.</p>
<h2>Usage</h2><p>Set up your API credentials by specifying your API Key, API Secret and the 
requested account permissions.</p>
<pre class="prettyprint source lang-javascript"><code>const RTM = require('rtm-api');
let client = new RTM('API_KEY', 'API_SECRET', RTM.PERM_DELETE);   // An instance of RTMClient</code></pre><p>Account permissions can be granted in one of three categories:</p>
<ul>
<li><strong>read</strong> – gives the ability to read task, contact, group and list details and contents.</li>
<li><strong>write</strong> – gives the ability to add and modify task, contact, group and list details and contents (also allows you to read).</li>
<li><strong>delete</strong> – gives the ability to delete tasks, contacts, groups and lists (also allows you to read and write).</li>
</ul>
<h3>User Authentication</h3><p>Almost all RTM API methods require an authorized user's <code>authToken</code>.  This is 
kept in the <code>RTMUser</code> class which can be instantiated manually if you already 
have a valid <code>authToken</code>:</p>
<pre class="prettyprint source lang-javascript"><code>let user = new RTM.user('id', 'username', 'fullname', 'authToken');</code></pre><p>Otherwise, an <code>authToken</code> can be obtained via the API using the steps outlined 
in the following sections.</p>
<h4>Generate an Auth URL</h4><p>First, generate an Auth URL that the RTM User will open in their browser.  This 
will direct the RTM User to the Remember the Milk website where they will log in 
and authorize this program to access their account.</p>
<pre class="prettyprint source lang-javascript"><code>// Get an RTM Auth URL that will ask the RTM User to grant access to your client
client.auth.getAuthUrl(function(err, authUrl, frob) {
  if ( err ) {
    console.error(err.toString());
  }

  // Have the User open the authUrl
  console.log(authUrl);

  // Save the frob for the next step
  ...

});</code></pre><h4>Generate an Auth Token</h4><p>Once the RTM User has opened the <code>authUrl</code> and given access to the program, 
pass the <code>frob</code> from the first step to the <code>getAuthToken</code> function to 
get an Auth Token to be used in future API calls.</p>
<pre class="prettyprint source lang-javascript"><code>// Get an Auth Token for the User once they've authorized the frob
client.auth.getAuthToken(frob, function(err, user) {

  // If successful, the returned user will include the property `authToken`
  console.log(user.authToken);

  // Save the user for making authenticated API calls via user.get()

});</code></pre><h4>Verify the Auth Token</h4><p>The Auth Token can be verified at any point using the <code>verifyAuthToken</code> function.</p>
<pre class="prettyprint source lang-javascript"><code>client.auth.verifyAuthToken(user.authToken, function(verified) {

  // verified will be true if auth token can be used for API calls

});</code></pre><h3>API Requests</h3><p>To make a request to the RTM API, a <a href="https://www.rememberthemilk.com/services/api/methods.rtm">method name</a> 
and callback function are required.  </p>
<p>If the RTM API method requires any parameters, they should be provided as 
an object with the parameters set as key/value pairs.  For example, if the 
method requires the parameters: abc=foo and xyz=bar then they should be provided 
as:</p>
<pre class="prettyprint source"><code>{
  abc: &quot;foo&quot;,
  xyz: &quot;bar&quot;
}</code></pre><p>If the API Method does not require a User's authToken, the request can be made 
using the <code>get</code> function available from the <code>RTMClient</code>.</p>
<pre class="prettyprint source lang-javascript"><code>client.get('rtm.auth.getFrob', function(resp) {
  if ( !resp.isOk ) {
    console.error(resp.toString());
  }

  // Handle the Response
  console.log(resp.frob);
});</code></pre><p>However, most API Methods will require a User's authToken.  This can be provided 
directly as an <code>auth_token</code> parameter or by calling the <code>get</code> function available 
from the <code>RTMUser</code> instance, which will automatically provide the authToken. </p>
<pre class="prettyprint source lang-javascript"><code>let params = {
  list_id: &quot;list id&quot;,
  filter: &quot;tasks filter&quot;
};
user.get('rtm.tasks.getList', params, function(resp) {
  if ( !resp.isOk ) {
    console.error(resp.toString());
  }

  // Handle the Response
  console.log(resp);
});</code></pre><h3>API Responses</h3><p>The response returned in the callback of the <code>get</code> function will be one of either 
the <code>RTMError</code> (if the RTM API returned a status of 'fail') or <code>RTMSuccess</code> classes. </p>
<p>For a successful response, the API response properties can be accessed directly 
from the <code>RTMSuccess</code> properties (<code>resp.tasks</code>, <code>resp.tasks.list</code>, etc).  All 
response properties are available via <code>resp.props</code></p></article>
    </section>






</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Tue Nov 07 2017 19:13:19 GMT-0500 (EST) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>